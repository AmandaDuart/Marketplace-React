{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\55219\\\\Desktop\\\\Marketplace-React\\\\src\\\\Components\\\\ModalConfirm\\\\ModalConfirm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport UserContext from '../../UserContext';\n\nfunction ModalConfirm(props) {\n  _s();\n\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    id\n  } = props.value;\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const sale = event => {\n    event.preventDefault();\n    const body = {\n      user_id: user.id,\n      product_id: id\n    };\n    fetch('https://resilia-marketplace.herokuapp.com/sales/newSale', {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(() => {\n      console.log('foi');\n      window.alert(`Olá ${user.name}, sua compra foi efetuada`);\n      handleClose();\n    }).catch(err => console.log(err, 'fetch post sales'));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: handleShow,\n      children: \"Finalizar Compra\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      size: \"lm\",\n      show: show,\n      onHide: handleClose,\n      backdrop: \"static\",\n      keyboard: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: props.value.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-around flex-column\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-5\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Descri\\xE7\\xE3o:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 9\n              }, this), \" \", props.value.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Valor da compra:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 9\n              }, this), \" R$\", props.value.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Avalia\\xE7\\xE3o:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 9\n              }, this), \" \", props.value.rating]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end mt-4 \",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              onClick: handleClose,\n              className: \"mr-4\",\n              children: \"Voltar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              className: \"mr-4\",\n              onClick: sale,\n              children: \"Confirmar Compra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ModalConfirm, \"IZ2M0ssz7YmqcAA+OklxDVjFC1Y=\");\n\n_c = ModalConfirm;\nexport default ModalConfirm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalConfirm\");","map":{"version":3,"sources":["C:/Users/55219/Desktop/Marketplace-React/src/Components/ModalConfirm/ModalConfirm.js"],"names":["React","useState","useContext","Card","Button","Modal","UserContext","ModalConfirm","props","user","id","value","show","setShow","handleClose","handleShow","sale","event","preventDefault","body","user_id","product_id","fetch","method","JSON","stringify","headers","then","console","log","window","alert","name","catch","err","description","price","rating"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAGA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAE5B,QAAM;AAAEC,IAAAA;AAAF,MAAWP,UAAU,CAACI,WAAD,CAA3B;AACA,QAAM;AAAEI,IAAAA;AAAF,MAASF,KAAK,CAACG,KAArB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,KAAD,CAAhC;;AAEA,QAAMa,WAAW,GAAG,MAAMD,OAAO,CAAC,KAAD,CAAjC;;AACA,QAAME,UAAU,GAAG,MAAMF,OAAO,CAAC,IAAD,CAAhC;;AAGA,QAAMG,IAAI,GAAIC,KAAD,IAAW;AACvBA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,IAAI,GAAG;AACZC,MAAAA,OAAO,EAAEX,IAAI,CAACC,EADF;AAEZW,MAAAA,UAAU,EAAEX;AAFA,KAAb;AAKAY,IAAAA,KAAK,CAAC,yDAAD,EAA4D;AAChEC,MAAAA,MAAM,EAAE,MADwD;AAEhEJ,MAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAF0D;AAGhEO,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAHuD,KAA5D,CAAL,CAKEC,IALF,CAKO,MAAM;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAC,MAAAA,MAAM,CAACC,KAAP,CAAc,OAAMtB,IAAI,CAACuB,IAAK,2BAA9B;AACAlB,MAAAA,WAAW;AACX,KATF,EAWEmB,KAXF,CAWSC,GAAD,IAASN,OAAO,CAACC,GAAR,CAAYK,GAAZ,EAAiB,kBAAjB,CAXjB;AAYA,GApBD;;AAsBA,sBACC;AAAA,4BACC,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAEnB,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAKC,QAAC,KAAD;AACC,MAAA,IAAI,EAAC,IADN;AAEC,MAAA,IAAI,EAAEH,IAFP;AAGC,MAAA,MAAM,EAAEE,WAHT;AAIC,MAAA,QAAQ,EAAC,QAJV;AAKC,MAAA,QAAQ,EAAE,KALX;AAAA,8BAOC,QAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAAA,+BACC,QAAC,KAAD,CAAO,KAAP;AAAA,oBAAcN,KAAK,CAACG,KAAN,CAAYqB;AAA1B;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAPD,eAUC,QAAC,KAAD,CAAO,IAAP;AAAA,+BACC;AAAK,UAAA,SAAS,EAAC,2CAAf;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,oCACC,QAAC,IAAD,CAAM,IAAN;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,OAC8BxB,KAAK,CAACG,KAAN,CAAYwB,WAD1C;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAIC,QAAC,IAAD,CAAM,IAAN;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,SACsC3B,KAAK,CAACG,KAAN,CAAYyB,KADlD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,eAOC,QAAC,IAAD,CAAM,IAAN;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,OAC8B5B,KAAK,CAACG,KAAN,CAAY0B,MAD1C;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAYC;AAAK,YAAA,SAAS,EAAC,kCAAf;AAAA,oCACC,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,QAAhB;AAAyB,cAAA,OAAO,EAAEvB,WAAlC;AAA+C,cAAA,SAAS,EAAC,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAIC,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,SAAhB;AAA0B,cAAA,SAAS,EAAC,MAApC;AAA2C,cAAA,OAAO,EAAEE,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAVD;AAAA;AAAA;AAAA;AAAA;AAAA,YALD;AAAA,kBADD;AA0CA;;GA1EQT,Y;;KAAAA,Y;AA4ET,eAAeA,YAAf","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport UserContext from '../../UserContext';\r\n\r\n\r\nfunction ModalConfirm(props) {\r\n\r\n\tconst { user } = useContext(UserContext);\r\n\tconst { id } = props.value;\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\r\n\tconst sale = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst body = {\r\n\t\t\tuser_id: user.id,\r\n\t\t\tproduct_id: id\r\n\t\t};\r\n\r\n\t\tfetch('https://resilia-marketplace.herokuapp.com/sales/newSale', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(body),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log('foi')\r\n\t\t\t\twindow.alert(`Olá ${user.name}, sua compra foi efetuada`)\r\n\t\t\t\thandleClose();\r\n\t\t\t}\r\n\t\t)\t\t\t\r\n\t\t\t.catch((err) => console.log(err, 'fetch post sales'));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button variant=\"primary\" onClick={handleShow}>\r\n\t\t\t\tFinalizar Compra\r\n\t\t\t</Button>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\tsize=\"lm\"\r\n\t\t\t\tshow={show}\r\n\t\t\t\tonHide={handleClose}\r\n\t\t\t\tbackdrop=\"static\"\r\n\t\t\t\tkeyboard={false}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>{props.value.name}</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-around flex-column\">\r\n\t\t\t\t\t\t<div className=\"ml-5\">\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t<strong>Descrição:</strong> {props.value.description}\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t<strong>Valor da compra:</strong> R${props.value.price}\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t<strong>Avaliação:</strong> {props.value.rating}\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end mt-4 \">\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" onClick={handleClose} className=\"mr-4\">\r\n\t\t\t\t\t\t\t\tVoltar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"success\" className=\"mr-4\" onClick={sale}>\r\n\t\t\t\t\t\t\t\tConfirmar Compra\r\n\t\t\t\t\t\t\t</Button >\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ModalConfirm;\r\n"]},"metadata":{},"sourceType":"module"}